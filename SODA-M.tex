\documentclass[a4paper, 12pt]{article} % Font size (can be 10pt, 11pt or 12pt) and paper size (remove a4paper for US letter paper)

\usepackage{graphicx} % Required for including pictures
\usepackage{apacite}
\usepackage{sectsty}
\usepackage[margin=1in]{geometry}
\usepackage[T1]{fontenc}
\usepackage{newtxmath,newtxtext}
 \usepackage{xcolor}
  \newcommand\mycomment[1]{\textcolor{red}{\textbf{\textit{(#1)}}}}
 \newcommand\mycommentn[1]{\textcolor{red}{\textbf{\textit{#1}}}\newline}
 

\makeatletter

\renewcommand{\maketitle}{ % Customize the title - do not edit title and author name here, see the TITLE block below
\begin{flushleft} 
{\large\@title\footnotemark[1]} % Increase the font size of the title

\vspace{20pt} % Some vertical space between the title and author name

{\large\@author} % Author name
\end{flushleft}
}


\sectionfont{\fontsize{12}{15}\selectfont\bfseries}
\subsectionfont{\fontsize{12}{15}\selectfont\bfseries\itshape}

%----------------------------------------------------------------------------------------
%	TITLE
%----------------------------------------------------------------------------------------

\title{\textbf{SODA-m} \mycomment{to update}} % Title
\author{Mohan Krishnamoorthy$^{a,2}$, Alexander Brodsky$^a$, and Daniel A. Menasc\'e$^{a}$} % Author


%----------------------------------------------------------------------------------------

\begin{document}

\maketitle % Print the title section

\begin{flushleft} 
\vspace{10pt}
$^a$\textit{Department of Computer Science, George Mason University, Fairfax, Virginia 22030, USA. Telephone No.: (703) 993-1537}\\
\vspace{20pt}
$^a$\{mkrishn4, brodsky, menasce\}@gmu.edu \\
\vspace{20pt}
\textbf{Acknowledgement}\newline
This work was partially supported by NIST Grant No. 70NANB12H277. \newline
\vspace{20pt}
%% To
%{\tiny Provide short biographical notes on all contributors here if the journal requires them\newline Word count: 5691}
\footnotetext[1]{Word Count: 6319 \mycomment{to update}}
\footnotetext[2]{Corresponding Author}
\end{flushleft} 

\newpage
{\large \@title }
\vspace{10pt}
%----------------------------------------------------------------------------------------
%	ABSTRACT AND KEYWORDS
%----------------------------------------------------------------------------------------


\begin{abstract}{\small\noindent
		\mycommentn{to update}
We consider steady-state production processes that produce a product and have feasibility constraints and metrics of cost and throughput that are stochastic functions of process controls. We propose an efficient stochastic optimization algorithm for the problem of finding process controls that minimize the expectation of cost while satisfying deterministic feasibility constraints and stochastic steady state demand for the output product with a given high probability. The proposed algorithm is based on (1) a series of deterministic approximations to produce a candidate set of near-optimal control settings for the production process, and (2) stochastic simulations on the candidate set using optimal simulation budget allocation methods. We demonstrate the proposed  algorithm on a use case of a real-world heat-sink production process that involves contract suppliers and manufacturers as well as unit manufacturing processes of shearing, milling, drilling, and machining, and conduct an experimental study that shows that the proposed algorithm significantly outperforms four popular simulation-based stochastic optimization algorithms.
}
\end{abstract}

{\small \mycomment{to update?} Keywords: decision support;
	decision guidance;
	deterministic approximations;
	stochastic simulation optimization;
	heuristic algorithm } % Keywords

\vspace{5pt} % Some vertical space between the abstract and first section

\section{Introduction}

%Motivation
This paper considers steady-state production processes that produce a product and have feasibility constraints and metrics of cost and throughput that are stochastic functions of process controls. 
We are concerned with the development of a one-stage stochastic optimization algorithm for the problem of finding process controls that minimize the expectation of cost while satisfying deterministic feasibility constraints and stochastic steady state demand for the output product with a given high probability.
These problems are prevalent in manufacturing processes, such as machining, assembly lines, and supply chain management.
There is an increasing need for process analysis and optimization to solve this problem efficiently as companies want to be competitive and need to reduce their cost and improve efficiency of operations in the face of increased global competition. 

%Solving this problem efficiently would allow a process engineer to perform a variety of analysis on a stochastic production systems such as (a) given foretasted increase in the demand of a product, how to set up the controls of every operational machine as to minimize the cost, or if the demand makes the problem infeasible, then make appropriate purchasing decisions for faster machines, and
%(b) given the system design, how to set up the controls of every operational machine, as to make a trade-off between optimizing overall production cost versus carbon emissions, while satisfying the demand, and within a limitation on the capacity of all the system components.

%Research Gap
%Current state of the art and its limitations (funnel)
%%high level 
%Simulation based approaches
Stochastic optimization have typically been performed using simulation-based optimization techniques (see \cite{Amaran2016} and \cite{Nguyen2014} for a review of such techniques). 
Tools like SIMULINK \cite{Dabney:2001:MS:557989} and Modelica \cite{elmqvist1998modelica,Provan2012modelica} allow users to run stochastic simulations on models of complex systems in mechanical, hydraulic, thermal, control, and electrical power.
Tools like OMOptim \cite{OMOptim}, Efficient Traceable Model-Based Dynamic Optimization (EDOp) \cite{EDOp}, and jMetal \cite{jMetal} use simulation models to heuristically-guide a trial and error search for the optimal answer. 
However, the general limitation of simulation-based approaches is that simulation is used as a black box, and the underlying mathematical structure is not utilized. 


%NP

From the work on Mathematical Programming (MP), we know that, for deterministic problems, utilizing the mathematical structure can lead to significantly better results in terms of optimality of results and computational complexity compared to simulation-based approaches (see e.g., \cite{Amaran2016} and \cite{Klemmt2009}). 
For this reason, a number of approaches have been developed to bridge the gap between stochastic simulation and MP.
%key things that they do
For instance, \cite{thompson_integrated_1990} propose an integrated approach that combines simulation with MP where the MP problem is constructed from the original stochastic problem with uncertainties being resolved to their mean values by using a sample of black-box simulations. This strategy of extracting an MP from the original problem is also used by \cite{paraskevopoulos_robust_1991} to solve the optimal capacity planning problem by incorporating the original objective function augmented with a penalty on the sensitivity of the objective function to various types of uncertainty.
The authors of \cite{Xu2014MultiFid} propose an ordinal transformation framework, 
consisting of a two-stage optimization framework that first extracts a low fidelity model using simulation or a queuing network model using assumptions that simplify the original problem and then uses this model to reduce the search space over which high fidelity simulations are run to find the optimal solution to the original problem.
%This low fidelity model is in a closed mathematical form and solving this model reduces the search space. High fidelity simulations  are then used on this smaller search space to find the optimal solutions to the original problem.
Other stochastic optimization approaches in the literature try to extract the mathematical structure of the original problem using similar techniques; more details are provided in section \ref{sec:LitRev}.
However, extraction of the mathematical structure through sampling using a black-box simulation is computationally expensive, especially for real-world production processes composed of complex process networks.

%NP
Instead of extracting the mathematical structure using black-box simulation, in \cite{Krishnamoorthy2015}, we used the extraction of mathematical structure from a white-box simulation code analysis as part of a heuristic algorithm to solve a stochastic optimization problem of finding controls for temporal production processes with inventories as to minimize the total cost while satisfying the stochastic demand with a predefined probability.
Similar to the  previous approaches, the mathematical structure was used for approximating a candidate set of solutions by solving a series of deterministic MP problems that approximate the stochastic simulation. 
However, the class of problems considered in \cite{Krishnamoorthy2015} is limited to processes described using piece-wise linear arithmetic. 
Whereas, many production processes, particularly in manufacturing, have models based on physics-based equations with non-linear arithmetic. 
This paper tries to close the gap for stochastic optimization problems for steady-state production processes described using non-linear arithmetic.

%Key contibutions
More specifically, the contributions of this paper are three-fold:
First, we propose a heuristic algorithm called Stochastic Optimization Algorithm based on Deterministic Approximations (SODA) to solve the problem of finding production process controls that minimize the expectation of cost while satisfying the deterministic process feasibility constraints and stochastic steady state demand for the output product with a given high probability. 
The proposed algorithm is based on (1) a series of deterministic approximations to produce a candidate set of near-optimal control settings for the production process, and (2) stochastic simulations on the candidate set using optimal simulation budget allocation methods (e.g., see \cite{Chen2011}, \cite{Lee2012OCBACO}).  
Second, we demonstrate the proposed algorithm on a use case of a real-world heat-sink production process that involves contract suppliers and manufacturers as well as unit manufacturing processes of shearing, milling, drilling, and machining with models from the literature that use non-linear physics-based equations.
Third, we conduct an initial experimental study using the heat-sink production process to compare the proposed algorithm with four popular simulation-based stochastic optimization algorithms viz., Nondominated Sorting Genetic Algorithm 2 (NGSA2) \cite{ngsa2}, Indicator Based Evolutionary Algorithm (IBEA) \cite{ibea}, Strength Pareto Evolutionary Algorithm 2 (SPEA2) \cite{spea2}, and Speed-constrained Multi-objective Particle swarm optimization (SMPSO) \cite{NDG09}.
The experimental study demonstrates that SODA significantly outperforms the other algorithms in terms of optimality of results and computation time. In particular, 
running over a 12-process problem using a 8-core server with 16GB RAM,
in 40 minutes, SODA achieves a production  cost lower than that of competing algorithms by 61\%; in 16 hours SODA achieves 29\% better cost; and, in 3 days it achieves 7\% better cost.

%Organization
The rest of this paper is organized as follows. Section \ref{sec:prob} formally describes the stochastic optimization problem over steady-state production processes. SODA, including deterministic approximations, is presented in section \ref{sec:algo}. Section \ref{sec:expProbSetup} describes the model of a real world manufacturing use case of a heat-sink service network, which is used in the experimental study presented in section \ref{sec:expResults}. Key observations and extensions are discussed in section \ref{sec:Discussion}. Section \ref{sec:LitRev} further discusses related work. Finally, section \ref{sec:conclusion} concludes with some future research directions. 




%%The domain challenges
%Due to increased global demand, companies want to be competitive and look toward ways to reduce their cost and increase efficiency of operations. 
%To address this, there is an increasing need for process analysis and optimization solutions, especially among companies that operate complex production systems. 
%Examples of such systems include manufacturing processes, such as machining, assembly lines, and supply chain management.
%These production systems are made up of processes that transform some input material to output product and they often involve controls that needs to set by the process operator.
%In a real-world production system, the effects of these control settings may contain noise that makes the system stochastic.
%Since, these settings influence the system's metrics of interest such as production cost, energy consumption, and carbon emissions as well as the state of the system's processes, the metrics and process state are also stochastic, and it is more difficult to evaluate the satisfiability of the constraints within these processes. 
% Also, real-world production systems are typically composed of processes with continuous non-linear objectives.
%Setting the control settings of the process is a difficult task because it needs to be done optimally i.e., the controls should be set such that some of the metrics are minimized or maximized while satisfying the capacity and demand constraints of the system. 


%%The problem 
%%%challenges
%This task becomes even more difficult due to challenges in the real-world production system.
%One such challenge is when the effects of the control settings contain noise that makes the system stochastic.
%Since the effects of these settings influence the metrics of interest and the state of the system's processes, the metrics and process state are also stochastic, and it is more difficult to evaluate the satisfiability of the constraints within these processes. 
%It is almost impossible to find exact solutions for such an optimization problem because of the inherent stochasticity present among these processes. 
%Hence, there is a need to find an approximate solution to these problems efficiently and with fast rate of convergence.
%Another challenge is that real-world production systems are typically composed of processes with continuous non-linear objectives.
%Depending on the shape of the objective function, especially if non-convex or non-concave, there is a need for an optimization algorithm that will have to adapt to this function quickly in the stochastic setting. 
%Finally, to support analysis and optimization of these complex real-world production systems, there is a need to accurately model machines, systems and processes so that they can provide accurate results in the stochastic environment.
%These models need to capture (a) stochastic control variables; (b) metrics of machines (such as cost, energy consumption, and emission) as a function of these control variables; and (c) process routing that describes the flow of materials through the production system. 

%%%why overcoming these challenges is important
%To overcome these challenges, in this paper, we provide an efficient algorithm to solve the problem of optimizing a stochastic production system, that is, finding the control expectation setting for each process with non-linear objectives as to minimize the total cost of production subject to satisfying the production demand with a requested probability.
%There is an urgent need to solve this problem efficiently as this would allow the process engineer to perform a variety of analysis and optimization tasks including what-if prediction and process optimization.
%For example, as a prediction question, the process engineer may ask: what would be the production output as well as the overall system metrics such as cost, energy consumption and carbon emissions if one process is replaced with a faster process or if two processes do the task instead of just one?
%Or, as an optimization question, a process engineer may ask: given the system design (which includes the flow of materials through the system), which machines should be on and off, and how to set up the controls of every operational machine, as to make a trade-off between optimizing overall production cost versus carbon emissions, while satisfying the demand, and within a limitation on the capacity of all the system components.


%Optimization solvers and modeling languages based on MP and CP are often the technology of choice, when optimality and computational complexity are the priority.
%Many classes of MP, such as linear programming (LP), mixed integer linear programming (MILP), and non-linear programming (NLP), have been very successful in solving real-world large-scale optimization problems. CP, on the other hand, has been broadly used for combinatorial optimization problems like scheduling and planning.  
%To use these tools, one would have to use an algebraic modeling language such as A Modeling Language for Mathematical Programming (AMPL)
%\cite{fourer2003ampl}, Optimization Programming Language (OPL) \cite{VanHentenryck:1999:OOP:299293}, General Algebraic Modeling System (GAMS) \cite{boisvert1985gams}, Gurobi \cite{gurobi}, or Advanced Interactive Multidimensional Modeling System (AIMMS) \cite{bisschop1993aimms}.  
%However, not all real world problems, especially those that involve stochasticity, can be expressed and solved efficiently using these models/tools. 
%Also, MP and CP present a significant challenge for engineers and business analysts. 
%It requires an OR expert to model a problem and express it in an algebraic modeling language like the ones mentioned. 
%Finally, these formal models are typically difficult to modify, extend, or reuse. This is comparable to ``spaghetti'' code versus an object-oriented approach.

%%funnel low
%Prior work in this area have tried to overcome some of the limitations described above.
%For instance, the authors of \cite{Xu2014MultiFid} propose an ordinal transformation framework, which is a two stage optimization framework where a low fidelity model is built from the original problem, which is an abstraction of the original problem. This model is used to find candidates that would solve the reduced problem. Then, high fidelity simulations are used on these candidates to refine the solutions. 
%But this approach does not consider problems that are in closed analytical form with stochasticity. For such problems, creating an abstraction of the original problem by dropping stochasticity allows us to use robust techniques such as deterministic approximation to find candidates with (near) optimal solutions. 
%Also, this approach does not consider applications such as the production system where the flow of materials through the system is very complex and consists of a number of transformations taking place in parallel. Performing simulations on such applications may be cheap, but abstracting a low-fidelity model from such as system could be expensive and may not produce good candidates.
%In \cite{Krishnamoorthy2015}, we proposed an efficient heuristic algorithm for processes that involved inventories and where the state of the processes and inventories changed at each time point over the time horizon. 
%This algorithm was based on producing a set of high quality candidate machine settings based on deterministic approximations and then refining the solutions by running stochastic simulations on them to find the best machine setting from the candidate set. 
%One main difference between our previous work and the work presented in this paper is that this paper considers the process to be in steady state and does not involve inventories.
%Also, our previous work did not consider the real-world productions systems composed of complex processes with non-linear objectives, rather the processes there had piecewise linear objectives. 
%Overcoming these limitations is exactly the focus of this paper.




%----------------------------------------------------------------------------------------
%	BIBLIOGRAPHY
%----------------------------------------------------------------------------------------

\bibliographystyle{apacite} 
\bibliography{Ref}

%----------------------------------------------------------------------------------------

%----------------------------------------------------------------------------------------
% Table(s) with caption(s) (on individual pages)
%\setcounter{table}{0}
%\begin{table}[htbp]
%\caption{Parameters and Metrics for Phase 1 of Car Manufacturing for Figure~\ref{fig:Tesla}. $\lambda = 3$ cars/hour} 
%\centering  
%\begin{tabular}{|l|c|c|c|c|c|c|c|}
%\hline\hline                        
%Machine           & $S_i$ & $\rho_i$ & $T_i$ & $P_{\rm stat}$ & $P_{\rm dyn}$ & $P_{\rm avg}$ & $E_i$\\
%                        & min    &                &   min  & KJ/sec            & KJ/sec            &  KJ/sec    & GJ     \\ \hline\hline
% Uncoiling 1 \&  2  &  4      & 0.20      &  5.0     & 40                 & 30000            & 114        & 0.03 \\           
%\hline 
%Left cutting          & 10    &   0.50      &    20.0     &  60            & 7200           & 72        &  0.09 \\ \hline
%Underbody cutting & 14 & 0.70 & 47.0  &   80               &  4898         & 56.2       & 0.16 \\ \hline
%Front cutting   &       12   & 0.60    & 30.0    & 80               & 6667                & 75.1     &0.14 \\ \hline
%Right cutting &  10 & 0.50           & 20.0   & 60               & 7200            & 72   & 0.09 \\ \hline
%Die Press 1  &   10  &   0.50      & 20.0     &  18               &  2160             &   21.6   &  0.03 \\ \hline
%Die Press 2  &   8  &   0.40      & 13.3     &  20             &  3750            &   30.3 &  0.02 \\ \hline
%Die Press 3  &   9  &   0.45      & 16.4     &  26               &  5926              &   38.5   &  0.04 \\ \hline
%Die Press 4  &   10  &   0.50      & 20.0     &  18               &  3118              &   23.2   &  0.03 \\ \hline
%Die Press 5  &   8  &   0.40      & 13.3     &  32              &  6125        &   48.6  &  0.04\\ \hline
%Die Press 6  &   7  &   0.35      & 10.8    &  16               &  9796             &   37.1  &  0.02 \\ \hline
%Die Press 7  &   8  &   0.40      & 13.3     &  18                &  3375              &   27.2  &  0.02 \\ \hline
%\end{tabular}
%\label{tab:paramQN} 
%\end{table}
%\begin{table}[htbp]
%\caption{Optimal Service Time Values  for Phase 1 of Car Manufacturing for Figure~\ref{fig:Tesla}. $\lambda = 3$ cars/hour} 
%\centering  
%\begin{tabular}{|l|c|c|c|c|c|c|c|}
%\hline\hline                        
%Machine           & $S_i$ & $\rho_i$ & $T_i$ & $P_{\rm stat}$ & $P_{\rm dyn}$ & $P_{\rm avg}$ & $E_i$\\
%                        & min    &                &   min  & KJ/sec            & KJ/sec            &  KJ/sec    & GJ     \\ \hline\hline
% Uncoiling 1 \&  2  &  3.11      & 0.16     &  3.7     & 40                 & 4.97 $\times 10^4$            & 150.5        & 0.033 \\           
%\hline 
%Left cutting          & 3.11    &   0.16      &    3.7     &  60            & 7.45  $\times 10^4$          & 225.5        &  0.050 \\ \hline
%Underbody cutting & 3.11 & 0.16 & 3.7  &   80               &  9.92 $\times 10^4$         & 300.5       & 0.066 \\ \hline
%Front cutting   &       3.11   & 0.16    & 3.7    & 80               & 9.95 $\times 10^4$                & 300.9     &0.066 \\ \hline
%Right cutting &  3.11 & 0.16           & 3.7   & 60               & 7.44 $\times 10^4$           & 225.3   & 0.050 \\ \hline
%Die Press 1  &   3.11  &   0.16      & 3.7     &  18               &  2.24 $\times 10^4$            &   67.7   &  0.015 \\ \hline
%Die Press 2  &   3.12  &   0.16      & 3.7     &  20             &  2.47 $\times 10^4$           &   75.0 &  0.017 \\ \hline
%Die Press 3  &   3.80  &   0.19      & 4.7     &  26               &  3.32 $\times 10^4$             &   97.4   &  0.027 \\ \hline
%Die Press 4  &   3.70  &   0.19      & 4.5     &  18               &  2.28 $\times 10^4$              &   67.3   &  0.018 \\ \hline
%Die Press 5  &   3.14  &   0.16      & 3.7     &  32              &  3.98 $\times 10^4$       &   120.3  &  0.027\\ \hline
%Die Press 6  &   4.76  &   0.24      & 6.2    &  16               &  2.12 $\times 10^4$             &   59.7  &  0.022 \\ \hline
%Die Press 7  &   3.10  &   0.16      & 3.7     &  18                &  2.25 $\times 10^4$              &   67.9  &  0.015 \\ \hline
%\end{tabular}
%\label{tab:opt} 
%\end{table}
%
%\newpage
%
%
%%----------------------------------------------------------------------------------------
%%----------------------------------------------------------------------------------------
%% Figure caption(s) (as a list) .
%\begin{enumerate}
%\item Figure 1: Autonomic Computing Paradigm
%\item Figure 2: Process Model for Phase 1 of Car Manufacturing
%\item Figure 3: QN for Process Model for Phase 1 of Car Manufacturing
%\item Figure 4: Left y-axis: Completion Time (in minutes) and Right y-axis: Energy Consumed Per Car (in GJoules) vs. Throughput (in cars/hr)
%\end{enumerate}
%
%%ACTUAL FIGURES
%
%\begin{figure}[htbp]
%  \centering
% \includegraphics[width=0.85\textwidth]{Figure1.eps}
%      \caption{Autonomic Computing Paradigm}
%        \label{fig:AC}
%\end{figure}
%
%\begin{figure}[htbp]
%  \centering
% \includegraphics[width=0.85\textwidth]{Figure2.eps}
%      \caption{Process Model for Phase 1 of Car Manufacturing}
%        \label{fig:Tesla}
%\end{figure}
%
%\begin{figure}[htbp]
%  \centering
% \includegraphics[width=1\textwidth]{Figure3.eps}
%      \caption{QN for Process Model for Phase 1 of Car Manufacturing}
%        \label{fig:TeslaQN}
%\end{figure}
%
%\begin{figure}[hbtp]
%\begin{center}
%\includegraphics[scale=0.45]{Figure4.eps}
%\caption{Left y-axis: Completion Time (in minutes) and Right y-axis: Energy Consumed Per Car (in GJoules) vs. Throughput (in cars/hr)}
%\label{fig:comptime-energy}
%\end{center}
%\end{figure}
%%----------------------------------------------------------------------------------------


\end{document}